### COLORS ###
source = ~/.config/hypr/mocha.conf

### MONITORS ### 
monitor=,highres,auto,1.56667

### PROGRAMS ###
$terminal = kitty 
$menu = fuzzel
$colorpicker = hyprpicker -a
$volume = pavucontrol -t 3

### AUTOSTART ###
exec-once = mako & hyprpaper & easyeffects --gapplication-service & udiskie
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = brave & kitty & okular & discord & alacritty -e btop

### ENVIRONMENT VARIABLES ###

# cursor stuff
env = XCURSOR_SIZE,24
env = XCURSOR_THEME,Catppuccin-Mocha-Lavender
env = HYPRCURSOR_SIZE,24
env = HYPRCURSOR_THEME,catppuccin-mocha-lavender

# toolkit-specific scale
env = GDK_SCALE,1

# toolkit-backend
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = SDL_VIDEODRIVER,wayland
env = CLUTTER_BACKEND,wayland

# xdg specs
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# qt-specific
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_QPA_PLATFORMTHEME,qt6ct

### LOOK AND FEEL ###
general { 
    gaps_in = 2
    gaps_out = 0 

    border_size = 2
    col.active_border = $lavender $teal 45deg 
    col.inactive_border = $surface0

    resize_on_border = true
    allow_tearing = false 
    layout = master 
}

decoration {
    rounding = 4
    drop_shadow = false
    blur {
        enabled = false
    }
}

animations {
    enabled = false

    animation = windows, 1, 8, default, popin 
    animation = windowsMove, 1, 8, default, popin 
    animation = windowsOut, 1, 8, default, popin 
    animation = workspaces, 1, 8, default, fade
}

master {
    new_is_master = false
}

xwayland {
    force_zero_scaling = true
}

misc { 
    force_default_wallpaper = 0
    disable_hyprland_logo = true 
    vfr = true 
    vrr = 0
    render_ahead_of_time = false
    enable_swallow = true
    swallow_regex = ^(kitty)$
}


### INPUT ###
input {
    kb_layout = us
    follow_mouse = 1
    touchpad {
        natural_scroll = true 
    }
}

gestures {
    workspace_swipe = true 
    workspace_swipe_fingers = 3
    workspace_swipe_distance = 100
}

### KEYBINDINGSS ###
$mainMod = SUPER # Sets "Windows" key as main modifier

bind = $mainMod, Return, exec, $terminal
bind = $mainMod, C, exec, $colorpicker
bind = $mainMod, V, exec, $volume
bind = $mainMod SHIFT, C, killactive,
bind = $mainMod SHIFT, Q, exit,
bind = $mainMod, R, exec, $menu
bind = $mainMod, F, fullscreen, 2

# move focus
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# switch workspace
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# move windows to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# scratchpad
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# multimedia keys
bindel=,XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+ & notify-send $(pamixer --get-volume-human)
bindel=,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%- & notify-send $(pamixer --get-volume-human)
bindl=,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind=,XF86MonBrightnessDown,exec,light -U 5 
bind=,XF86MonBrightnessUp,exec,light -A 5 
bindl=,XF86AudioPlay, exec, playerctl play-pause
bindl=,XF86AudioNext, exec, playerctl next 
bindl=,XF86AudioPrev, exec, playerctl previous


### WINDOW RULES ###
windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = center,class:.*
windowrulev2 = float,class:^(org.freedesktop.impl.portal.desktop.kde)$
windowrulev2 = float,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = workspace 1 silent,class:^(.*brave-browser.*)$
windowrulev2 = workspace 2 silent,class:^(.*kitty.*)$
windowrulev2 = workspace 3 silent,class:^(.*org.kde.okular.*)$
windowrulev2 = workspace 4 silent,class:^(.*discord.*)$
windowrulev2 = workspace special:magic silent,class:^(.*Alacritty.*)$
